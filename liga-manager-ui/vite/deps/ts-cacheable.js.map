{
  "version": 3,
  "sources": ["../../../../../../node_modules/ts-cacheable/dist/esm5/common/IStorageStrategy.js", "../../../../../../node_modules/ts-cacheable/dist/esm5/common/InMemoryStorageStrategy.js", "../../../../../../node_modules/ts-cacheable/dist/esm5/common/IAsyncStorageStrategy.js", "../../../../../../node_modules/ts-cacheable/dist/esm5/common/DOMStorageStrategy.js", "../../../../../../node_modules/ts-cacheable/dist/esm5/common/LocalStorageStrategy.js", "../../../../../../node_modules/ts-cacheable/dist/esm5/common/CacheBusterFunctions.js", "../../../../../../node_modules/ts-cacheable/dist/esm5/common/index.js", "../../../../../../node_modules/ts-cacheable/dist/esm5/cache-buster.decorator.js", "../../../../../../node_modules/ts-cacheable/dist/esm5/cacheable.decorator.js", "../../../../../../node_modules/ts-cacheable/dist/esm5/promise.cache-buster.decorator.js", "../../../../../../node_modules/ts-cacheable/dist/esm5/promise.cacheable.decorator.js"],
  "sourcesContent": ["var IStorageStrategy = /** @class */function () {\n  function IStorageStrategy() {}\n  return IStorageStrategy;\n}();\nexport { IStorageStrategy };\n", "var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nimport { IStorageStrategy } from './IStorageStrategy';\nvar InMemoryStorageStrategy = /** @class */function (_super) {\n  __extends(InMemoryStorageStrategy, _super);\n  function InMemoryStorageStrategy() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.cachePairs = [];\n    return _this;\n  }\n  InMemoryStorageStrategy.prototype.add = function (cachePair, cacheKey, ctx) {\n    this.cachePairs.push(cachePair);\n  };\n  ;\n  InMemoryStorageStrategy.prototype.addMany = function (cachePairs) {\n    this.cachePairs = cachePairs;\n  };\n  ;\n  InMemoryStorageStrategy.prototype.updateAtIndex = function (index, entity) {\n    var updatee = this.cachePairs[index];\n    Object.assign(updatee, entity);\n  };\n  InMemoryStorageStrategy.prototype.update = function (index, entity) {\n    var updatee = this.cachePairs[index];\n    Object.assign(updatee, entity);\n  };\n  InMemoryStorageStrategy.prototype.getAll = function () {\n    return this.cachePairs;\n  };\n  ;\n  InMemoryStorageStrategy.prototype.removeAtIndex = function (index) {\n    this.cachePairs.splice(index, 1);\n  };\n  InMemoryStorageStrategy.prototype.remove = function (index) {\n    this.cachePairs.splice(index, 1);\n  };\n  InMemoryStorageStrategy.prototype.removeAll = function () {\n    this.cachePairs.length = 0;\n  };\n  return InMemoryStorageStrategy;\n}(IStorageStrategy);\nexport { InMemoryStorageStrategy };\n", "var IAsyncStorageStrategy = /** @class */function () {\n  function IAsyncStorageStrategy() {}\n  return IAsyncStorageStrategy;\n}();\nexport { IAsyncStorageStrategy };\n", "var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nimport { IStorageStrategy } from './IStorageStrategy';\nimport { GlobalCacheConfig } from '.';\n/**\n * @deprecated Use {@link LocalStorageStrategy} instead.\n */\nvar DOMStorageStrategy = /** @class */function (_super) {\n  __extends(DOMStorageStrategy, _super);\n  function DOMStorageStrategy() {\n    var _this = _super.call(this) || this;\n    _this.masterCacheKey = GlobalCacheConfig.globalCacheKey;\n    if (typeof localStorage == 'undefined') {\n      throw new Error('Platform not supported.');\n    }\n    return _this;\n  }\n  DOMStorageStrategy.prototype.add = function (cachePair, cacheKey) {\n    var allCachedData = this.getRawData();\n    if (!allCachedData[cacheKey]) {\n      allCachedData[cacheKey] = [];\n    }\n    allCachedData[cacheKey].push(cachePair);\n    this.storeRawData(allCachedData);\n  };\n  ;\n  DOMStorageStrategy.prototype.addMany = function (cachePairs, cacheKey) {\n    var allCachedData = this.getRawData();\n    if (!allCachedData[cacheKey]) {\n      allCachedData[cacheKey] = [];\n    }\n    allCachedData[cacheKey] = cachePairs;\n    this.storeRawData(allCachedData);\n  };\n  ;\n  DOMStorageStrategy.prototype.getAll = function (cacheKey) {\n    return this.getRawData()[cacheKey] || [];\n  };\n  ;\n  DOMStorageStrategy.prototype.removeAtIndex = function (index, cacheKey) {\n    var allCachedData = this.getRawData();\n    if (allCachedData[cacheKey] && allCachedData[cacheKey].length) {\n      allCachedData[cacheKey].splice(index, 1);\n    }\n    this.storeRawData(allCachedData);\n  };\n  DOMStorageStrategy.prototype.remove = function (index, entity, cacheKey) {\n    var allCachedData = this.getRawData();\n    if (allCachedData[cacheKey] && allCachedData[cacheKey].length) {\n      allCachedData[cacheKey].splice(index, 1);\n    }\n    this.storeRawData(allCachedData);\n  };\n  DOMStorageStrategy.prototype.updateAtIndex = function (index, entity, cacheKey) {\n    var allCachedData = this.getRawData();\n    if (allCachedData[cacheKey] && allCachedData[cacheKey][index]) {\n      allCachedData[cacheKey][index] = entity;\n    }\n    this.storeRawData(allCachedData);\n  };\n  DOMStorageStrategy.prototype.update = function (index, entity, cacheKey) {\n    var allCachedData = this.getRawData();\n    if (allCachedData[cacheKey] && allCachedData[cacheKey][index]) {\n      allCachedData[cacheKey][index] = entity;\n    }\n    this.storeRawData(allCachedData);\n  };\n  DOMStorageStrategy.prototype.removeAll = function (cacheKey) {\n    var allCachedData = this.getRawData();\n    if (allCachedData[cacheKey] && allCachedData[cacheKey].length) {\n      allCachedData[cacheKey].length = 0;\n    }\n    this.storeRawData(allCachedData);\n  };\n  DOMStorageStrategy.prototype.getRawData = function () {\n    var data = localStorage.getItem(this.masterCacheKey);\n    try {\n      return JSON.parse(data) || {};\n    } catch (error) {\n      throw new Error(error);\n    }\n  };\n  DOMStorageStrategy.prototype.storeRawData = function (data) {\n    localStorage.setItem(this.masterCacheKey, JSON.stringify(data));\n  };\n  return DOMStorageStrategy;\n}(IStorageStrategy);\nexport { DOMStorageStrategy };\n", "var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nimport { IStorageStrategy } from './IStorageStrategy';\nimport { GlobalCacheConfig } from '.';\nvar LocalStorageStrategy = /** @class */function (_super) {\n  __extends(LocalStorageStrategy, _super);\n  function LocalStorageStrategy() {\n    var _this = _super.call(this) || this;\n    _this.masterCacheKey = GlobalCacheConfig.globalCacheKey;\n    if (typeof localStorage == 'undefined') {\n      throw new Error('Platform not supported.');\n    }\n    return _this;\n  }\n  LocalStorageStrategy.prototype.add = function (cachePair, cacheKey) {\n    var allCachedData = this.getRawData();\n    if (!allCachedData[cacheKey]) {\n      allCachedData[cacheKey] = [];\n    }\n    allCachedData[cacheKey].push(cachePair);\n    this.storeRawData(allCachedData);\n  };\n  ;\n  LocalStorageStrategy.prototype.addMany = function (cachePairs, cacheKey) {\n    var allCachedData = this.getRawData();\n    if (!allCachedData[cacheKey]) {\n      allCachedData[cacheKey] = [];\n    }\n    allCachedData[cacheKey] = cachePairs;\n    this.storeRawData(allCachedData);\n  };\n  ;\n  LocalStorageStrategy.prototype.getAll = function (cacheKey) {\n    return this.getRawData()[cacheKey] || [];\n  };\n  ;\n  LocalStorageStrategy.prototype.removeAtIndex = function (index, cacheKey) {\n    var allCachedData = this.getRawData();\n    if (allCachedData[cacheKey] && allCachedData[cacheKey].length) {\n      allCachedData[cacheKey].splice(index, 1);\n    }\n    this.storeRawData(allCachedData);\n  };\n  LocalStorageStrategy.prototype.remove = function (index, entity, cacheKey) {\n    var allCachedData = this.getRawData();\n    if (allCachedData[cacheKey] && allCachedData[cacheKey].length) {\n      allCachedData[cacheKey].splice(index, 1);\n    }\n    this.storeRawData(allCachedData);\n  };\n  LocalStorageStrategy.prototype.updateAtIndex = function (index, entity, cacheKey) {\n    var allCachedData = this.getRawData();\n    if (allCachedData[cacheKey] && allCachedData[cacheKey][index]) {\n      allCachedData[cacheKey][index] = entity;\n    }\n    this.storeRawData(allCachedData);\n  };\n  LocalStorageStrategy.prototype.update = function (index, entity, cacheKey) {\n    var allCachedData = this.getRawData();\n    if (allCachedData[cacheKey] && allCachedData[cacheKey][index]) {\n      allCachedData[cacheKey][index] = entity;\n    }\n    this.storeRawData(allCachedData);\n  };\n  LocalStorageStrategy.prototype.removeAll = function (cacheKey) {\n    var allCachedData = this.getRawData();\n    if (allCachedData[cacheKey] && allCachedData[cacheKey].length) {\n      allCachedData[cacheKey].length = 0;\n    }\n    this.storeRawData(allCachedData);\n  };\n  LocalStorageStrategy.prototype.getRawData = function () {\n    var data = localStorage.getItem(this.masterCacheKey);\n    try {\n      return JSON.parse(data) || {};\n    } catch (error) {\n      throw new Error(error);\n    }\n  };\n  LocalStorageStrategy.prototype.storeRawData = function (data) {\n    localStorage.setItem(this.masterCacheKey, JSON.stringify(data));\n  };\n  return LocalStorageStrategy;\n}(IStorageStrategy);\nexport { LocalStorageStrategy };\n", "export function bustCache(cacheBusterConfig) {\n  if (cacheBusterConfig === null || cacheBusterConfig === void 0 ? void 0 : cacheBusterConfig.cacheBusterNotifier) {\n    cacheBusterConfig.cacheBusterNotifier.next();\n  }\n}\nexport function isInstant(cacheBusterConfig) {\n  return cacheBusterConfig && 'isInstant' in cacheBusterConfig && cacheBusterConfig.isInstant;\n}\n", "import { IStorageStrategy } from './IStorageStrategy';\nimport { InMemoryStorageStrategy } from './InMemoryStorageStrategy';\nimport { IAsyncStorageStrategy } from './IAsyncStorageStrategy';\nimport { DOMStorageStrategy } from './DOMStorageStrategy';\nimport { LocalStorageStrategy } from './LocalStorageStrategy';\nimport { isInstant, bustCache } from './CacheBusterFunctions';\nexport var DEFAULT_CACHE_RESOLVER = function (oldParams, newParams) {\n  return JSON.stringify(oldParams) === JSON.stringify(newParams);\n};\nexport var DEFAULT_HASHER = function (parameters) {\n  return parameters.map(function (param) {\n    return param !== undefined ? JSON.parse(JSON.stringify(param)) : param;\n  });\n};\nexport var GlobalCacheConfig = {\n  storageStrategy: InMemoryStorageStrategy,\n  globalCacheKey: 'CACHE_STORAGE',\n  promiseImplementation: Promise\n};\nexport { IStorageStrategy };\nexport { IAsyncStorageStrategy };\nexport { DOMStorageStrategy };\nexport { LocalStorageStrategy };\nexport { isInstant, bustCache };\n", "var __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { bustCache, isInstant } from './common';\nimport { Observable } from 'rxjs';\nimport { tap } from 'rxjs/operators';\nexport function CacheBuster(cacheBusterConfig) {\n  return function (_target, _propertyKey, propertyDescriptor) {\n    var decoratedMethod = propertyDescriptor.value;\n    if (propertyDescriptor && propertyDescriptor.value) {\n      /* use function instead of an arrow function to keep context of invocation */\n      propertyDescriptor.value = function () {\n        var parameters = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          parameters[_i] = arguments[_i];\n        }\n        if (isInstant(cacheBusterConfig)) {\n          bustCache(cacheBusterConfig);\n          return decoratedMethod.call.apply(decoratedMethod, __spreadArray([this], parameters, false));\n        }\n        var decoratedMethodResult = decoratedMethod.call.apply(decoratedMethod, __spreadArray([this], parameters, false));\n        throwErrorIfResultIsNotObservable(decoratedMethodResult);\n        return decoratedMethodResult.pipe(tap(function () {\n          bustCache(cacheBusterConfig);\n        }));\n      };\n    }\n    ;\n    return propertyDescriptor;\n  };\n}\n;\nexport var NO_OBSERVABLE_ERROR_MESSAGE = \"\\n  Method decorated with @CacheBuster should return observable. \\n  If you don't want to change the method signature, set isInstant flag to true.\\n\";\nexport function throwErrorIfResultIsNotObservable(decoratedMethodResult) {\n  if (decoratedMethodResult instanceof Observable === false) {\n    throw new Error(NO_OBSERVABLE_ERROR_MESSAGE);\n  }\n}\n", "var __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { empty, merge, of, Subject } from 'rxjs';\nimport { delay, finalize, tap, publishReplay, refCount } from 'rxjs/operators';\nimport { DEFAULT_CACHE_RESOLVER, GlobalCacheConfig, DEFAULT_HASHER } from './common';\nexport var globalCacheBusterNotifier = new Subject();\nexport function Cacheable(cacheConfig) {\n  if (cacheConfig === void 0) {\n    cacheConfig = {};\n  }\n  return function (_target, _propertyKey, propertyDescriptor) {\n    var _this = this;\n    var cacheKey = cacheConfig.cacheKey || _target.constructor.name + '#' + _propertyKey;\n    var oldMethod = propertyDescriptor.value;\n    if (propertyDescriptor && propertyDescriptor.value) {\n      var storageStrategy_1 = !cacheConfig.storageStrategy ? new GlobalCacheConfig.storageStrategy() : new cacheConfig.storageStrategy();\n      var pendingCachePairs_1 = [];\n      if (cacheConfig.cacheModifier) {\n        cacheConfig.cacheModifier.subscribe(function (callback) {\n          return storageStrategy_1.addMany(callback(storageStrategy_1.getAll(cacheKey, _this)), cacheKey, _this);\n        });\n      }\n      /**\n       * subscribe to the globalCacheBuster\n       * if a custom cacheBusterObserver is passed, subscribe to it as well\n       * subscribe to the cacheBusterObserver and upon emission, clear all caches\n       */\n      merge(globalCacheBusterNotifier.asObservable(), cacheConfig.cacheBusterObserver ? cacheConfig.cacheBusterObserver : empty()).subscribe(function (_) {\n        storageStrategy_1.removeAll(cacheKey, _this);\n        pendingCachePairs_1.length = 0;\n      });\n      var cacheResolver = cacheConfig.cacheResolver || GlobalCacheConfig.cacheResolver;\n      cacheConfig.cacheResolver = cacheResolver ? cacheResolver : DEFAULT_CACHE_RESOLVER;\n      var cacheHasher = cacheConfig.cacheHasher || GlobalCacheConfig.cacheHasher;\n      cacheConfig.cacheHasher = cacheHasher ? cacheHasher : DEFAULT_HASHER;\n      /* use function instead of an arrow function to keep context of invocation */\n      propertyDescriptor.value = function () {\n        var _this = this;\n        var parameters = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          parameters[_i] = arguments[_i];\n        }\n        var cachePairs = storageStrategy_1.getAll(cacheKey, this);\n        var cacheParameters = cacheConfig.cacheHasher(parameters);\n        var _foundCachePair = cachePairs.find(function (cp) {\n          return cacheConfig.cacheResolver(cp.parameters, cacheParameters);\n        });\n        var _foundPendingCachePair = pendingCachePairs_1.find(function (cp) {\n          return cacheConfig.cacheResolver(cp.parameters, cacheParameters);\n        });\n        /**\n         * check if maxAge is passed and cache has actually expired\n         */\n        if ((cacheConfig.maxAge || GlobalCacheConfig.maxAge) && _foundCachePair && _foundCachePair.created) {\n          if (new Date().getTime() - new Date(_foundCachePair.created).getTime() > (cacheConfig.maxAge || GlobalCacheConfig.maxAge)) {\n            /**\n             * cache duration has expired - remove it from the cachePairs array\n             */\n            storageStrategy_1.remove ? storageStrategy_1.remove(cachePairs.indexOf(_foundCachePair), _foundCachePair, cacheKey, this) : storageStrategy_1.removeAtIndex(cachePairs.indexOf(_foundCachePair), cacheKey, this);\n            _foundCachePair = null;\n          } else if (cacheConfig.slidingExpiration || GlobalCacheConfig.slidingExpiration) {\n            /**\n             * renew cache duration\n             */\n            _foundCachePair.created = new Date();\n            storageStrategy_1.update ? storageStrategy_1.update(cachePairs.indexOf(_foundCachePair), _foundCachePair, cacheKey, this) : storageStrategy_1.updateAtIndex(cachePairs.indexOf(_foundCachePair), _foundCachePair, cacheKey, this);\n          }\n        }\n        if (_foundCachePair) {\n          var cached$ = of(_foundCachePair.response);\n          return cacheConfig.async ? cached$.pipe(delay(0)) : cached$;\n        } else if (_foundPendingCachePair) {\n          return _foundPendingCachePair.response;\n        } else {\n          var response$ = oldMethod.call.apply(oldMethod, __spreadArray([this], parameters, false)).pipe(finalize(function () {\n            /**\n             * if there has been an observable cache pair for these parameters, when it completes or errors, remove it\n             */\n            var _pendingCachePairToRemove = pendingCachePairs_1.find(function (cp) {\n              return cacheConfig.cacheResolver(cp.parameters, cacheParameters);\n            });\n            pendingCachePairs_1.splice(pendingCachePairs_1.indexOf(_pendingCachePairToRemove), 1);\n          }), tap(function (response) {\n            /**\n             * if maxCacheCount has not been passed, just shift the cachePair to make room for the new one\n             * if maxCacheCount has been passed, respect that and only shift the cachePairs if the new cachePair will make them exceed the count\n             */\n            if (!cacheConfig.shouldCacheDecider || cacheConfig.shouldCacheDecider(response)) {\n              if (!(cacheConfig.maxCacheCount || GlobalCacheConfig.maxCacheCount) || (cacheConfig.maxCacheCount || GlobalCacheConfig.maxCacheCount) === 1 || (cacheConfig.maxCacheCount || GlobalCacheConfig.maxCacheCount) && (cacheConfig.maxCacheCount || GlobalCacheConfig.maxCacheCount) < cachePairs.length + 1) {\n                storageStrategy_1.remove ? storageStrategy_1.remove(0, cachePairs[0], cacheKey, _this) : storageStrategy_1.removeAtIndex(0, cacheKey, _this);\n              }\n              storageStrategy_1.add({\n                parameters: cacheParameters,\n                response: response,\n                created: cacheConfig.maxAge || GlobalCacheConfig.maxAge ? new Date() : null\n              }, cacheKey, _this);\n            }\n          }), publishReplay(1), refCount());\n          /**\n           * cache the stream\n           */\n          pendingCachePairs_1.push({\n            parameters: cacheParameters,\n            response: response$,\n            created: new Date()\n          });\n          return response$;\n        }\n      };\n    }\n    return propertyDescriptor;\n  };\n}\n;\n", "var __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { bustCache, isInstant } from './common';\nexport function PCacheBuster(cacheBusterConfig) {\n  return function (_target, _propertyKey, propertyDescriptor) {\n    var decoratedMethod = propertyDescriptor.value;\n    if (propertyDescriptor && propertyDescriptor.value) {\n      /* use function instead of an arrow function to keep context of invocation */\n      propertyDescriptor.value = function () {\n        var parameters = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          parameters[_i] = arguments[_i];\n        }\n        if (isInstant(cacheBusterConfig)) {\n          bustCache(cacheBusterConfig);\n          return decoratedMethod.call.apply(decoratedMethod, __spreadArray([this], parameters, false));\n        }\n        var decoratedMethodResult = decoratedMethod.call.apply(decoratedMethod, __spreadArray([this], parameters, false));\n        throwErrorIfResultIsNotPromise(decoratedMethodResult);\n        return decoratedMethodResult.then(function (response) {\n          bustCache(cacheBusterConfig);\n          return response;\n        });\n      };\n    }\n    ;\n    return propertyDescriptor;\n  };\n}\n;\nexport var NO_PROMISE_ERROR_MESSAGE = \"\\n  Method decorated with @CacheBuster should return Promise. \\n  If you don't want to change the method signature, set isInstant flag to true.\\n\";\nfunction throwErrorIfResultIsNotPromise(decoratedMethodResult) {\n  if (decoratedMethodResult instanceof Promise === false) {\n    throw new Error(NO_PROMISE_ERROR_MESSAGE);\n  }\n}\n", "var __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n      label: 0,\n      sent: function () {\n        if (t[0] & 1) throw t[1];\n        return t[1];\n      },\n      trys: [],\n      ops: []\n    },\n    f,\n    y,\n    t,\n    g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n    while (_) try {\n      if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n      if (y = 0, t) op = [op[0] & 2, t.value];\n      switch (op[0]) {\n        case 0:\n        case 1:\n          t = op;\n          break;\n        case 4:\n          _.label++;\n          return {\n            value: op[1],\n            done: false\n          };\n        case 5:\n          _.label++;\n          y = op[1];\n          op = [0];\n          continue;\n        case 7:\n          op = _.ops.pop();\n          _.trys.pop();\n          continue;\n        default:\n          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n            _ = 0;\n            continue;\n          }\n          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n            _.label = op[1];\n            break;\n          }\n          if (op[0] === 6 && _.label < t[1]) {\n            _.label = t[1];\n            t = op;\n            break;\n          }\n          if (t && _.label < t[2]) {\n            _.label = t[2];\n            _.ops.push(op);\n            break;\n          }\n          if (t[2]) _.ops.pop();\n          _.trys.pop();\n          continue;\n      }\n      op = body.call(thisArg, _);\n    } catch (e) {\n      op = [6, e];\n      y = 0;\n    } finally {\n      f = t = 0;\n    }\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\nvar __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\nvar _this = this;\nimport { empty, merge, Subject } from 'rxjs';\nimport { DEFAULT_CACHE_RESOLVER, GlobalCacheConfig, DEFAULT_HASHER } from './common';\nexport var promiseGlobalCacheBusterNotifier = new Subject();\nvar getResponse = function (oldMethod, cacheKey, cacheConfig, context, cachePairs, parameters, pendingCachePairs, storageStrategy, promiseImplementation) {\n  var cacheParameters = cacheConfig.cacheHasher(parameters);\n  var _foundCachePair = cachePairs.find(function (cp) {\n    return cacheConfig.cacheResolver(cp.parameters, cacheParameters);\n  });\n  var _foundPendingCachePair = pendingCachePairs.find(function (cp) {\n    return cacheConfig.cacheResolver(cp.parameters, cacheParameters);\n  });\n  /**\n   * check if maxAge is passed and cache has actually expired\n   */\n  if ((cacheConfig.maxAge || GlobalCacheConfig.maxAge) && _foundCachePair && _foundCachePair.created) {\n    if (new Date().getTime() - new Date(_foundCachePair.created).getTime() > (cacheConfig.maxAge || GlobalCacheConfig.maxAge)) {\n      /**\n       * cache duration has expired - remove it from the cachePairs array\n       */\n      storageStrategy.remove ? storageStrategy.remove(cachePairs.indexOf(_foundCachePair), _foundCachePair, cacheKey, _this) : storageStrategy.removeAtIndex(cachePairs.indexOf(_foundCachePair), cacheKey, _this);\n      _foundCachePair = null;\n    } else if (cacheConfig.slidingExpiration || GlobalCacheConfig.slidingExpiration) {\n      /**\n       * renew cache duration\n       */\n      _foundCachePair.created = new Date();\n      storageStrategy.update ? storageStrategy.update(cachePairs.indexOf(_foundCachePair), _foundCachePair, cacheKey, _this) : storageStrategy.updateAtIndex(cachePairs.indexOf(_foundCachePair), _foundCachePair, cacheKey, _this);\n    }\n  }\n  if (_foundCachePair) {\n    return promiseImplementation.resolve(_foundCachePair.response);\n  } else if (_foundPendingCachePair) {\n    return _foundPendingCachePair.response;\n  } else {\n    var response$ = oldMethod.call.apply(oldMethod, __spreadArray([context], parameters, false)).then(function (response) {\n      removeCachePair(pendingCachePairs, parameters, cacheConfig);\n      /**\n       * if no maxCacheCount has been passed\n       * if maxCacheCount has not been passed, just shift the cachePair to make room for the new one\n       * if maxCacheCount has been passed, respect that and only shift the cachePairs if the new cachePair will make them exceed the count\n       */\n      if (!cacheConfig.shouldCacheDecider || cacheConfig.shouldCacheDecider(response)) {\n        if (!(cacheConfig.maxCacheCount || GlobalCacheConfig.maxCacheCount) || (cacheConfig.maxCacheCount || GlobalCacheConfig.maxCacheCount) === 1 || (cacheConfig.maxCacheCount || GlobalCacheConfig.maxCacheCount) && (cacheConfig.maxCacheCount || GlobalCacheConfig.maxCacheCount) < cachePairs.length + 1) {\n          storageStrategy.remove ? storageStrategy.remove(0, cachePairs[0], cacheKey, _this) : storageStrategy.removeAtIndex(0, cacheKey, _this);\n        }\n        storageStrategy.add({\n          parameters: cacheParameters,\n          response: response,\n          created: cacheConfig.maxAge || GlobalCacheConfig.maxAge ? new Date() : null\n        }, cacheKey, _this);\n      }\n      return response;\n    }).catch(function (error) {\n      removeCachePair(pendingCachePairs, parameters, cacheConfig);\n      return promiseImplementation.reject(error);\n    });\n    /**\n     * cache the stream\n     */\n    pendingCachePairs.push({\n      parameters: cacheParameters,\n      response: response$,\n      created: new Date()\n    });\n    return response$;\n  }\n};\nvar removeCachePair = function (cachePairs, parameters, cacheConfig) {\n  var cacheParameters = cacheConfig.cacheHasher(parameters);\n  /**\n   * if there has been an pending cache pair for these parameters, when it completes or errors, remove it\n   */\n  var _pendingCachePairToRemove = cachePairs.find(function (cp) {\n    return cacheConfig.cacheResolver(cp.parameters, cacheParameters);\n  });\n  cachePairs.splice(cachePairs.indexOf(_pendingCachePairToRemove), 1);\n};\nexport function PCacheable(cacheConfig) {\n  if (cacheConfig === void 0) {\n    cacheConfig = {};\n  }\n  return function (_target, _propertyKey, propertyDescriptor) {\n    var _this = this;\n    var cacheKey = cacheConfig.cacheKey || _target.constructor.name + '#' + _propertyKey;\n    var oldMethod = propertyDescriptor.value;\n    if (propertyDescriptor && propertyDescriptor.value) {\n      var storageStrategy_1 = !cacheConfig.storageStrategy ? new GlobalCacheConfig.storageStrategy() : new cacheConfig.storageStrategy();\n      var pendingCachePairs_1 = [];\n      if (cacheConfig.cacheModifier) {\n        cacheConfig.cacheModifier.subscribe(function (callback) {\n          return __awaiter(_this, void 0, void 0, function () {\n            var _a, _b, _c;\n            return __generator(this, function (_d) {\n              switch (_d.label) {\n                case 0:\n                  _b = (_a = storageStrategy_1).addMany;\n                  _c = callback;\n                  return [4 /*yield*/, storageStrategy_1.getAll(cacheKey, this)];\n                case 1:\n                  return [2 /*return*/, _b.apply(_a, [_c.apply(void 0, [_d.sent()]), cacheKey, this])];\n              }\n            });\n          });\n        });\n      }\n      /**\n       * subscribe to the promiseGlobalCacheBusterNotifier\n       * if a custom cacheBusterObserver is passed, subscribe to it as well\n       * subscribe to the cacheBusterObserver and upon emission, clear all caches\n       */\n      merge(promiseGlobalCacheBusterNotifier.asObservable(), cacheConfig.cacheBusterObserver ? cacheConfig.cacheBusterObserver : empty()).subscribe(function (_) {\n        storageStrategy_1.removeAll(cacheKey, _this);\n        pendingCachePairs_1.length = 0;\n      });\n      var cacheResolver = cacheConfig.cacheResolver || GlobalCacheConfig.cacheResolver;\n      cacheConfig.cacheResolver = cacheResolver ? cacheResolver : DEFAULT_CACHE_RESOLVER;\n      var cacheHasher = cacheConfig.cacheHasher || GlobalCacheConfig.cacheHasher;\n      cacheConfig.cacheHasher = cacheHasher ? cacheHasher : DEFAULT_HASHER;\n      /* use function instead of an arrow function to keep context of invocation */\n      propertyDescriptor.value = function () {\n        var _this = this;\n        var parameters = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          parameters[_i] = arguments[_i];\n        }\n        var promiseImplementation = typeof GlobalCacheConfig.promiseImplementation === 'function' && GlobalCacheConfig.promiseImplementation !== Promise ? GlobalCacheConfig.promiseImplementation.call(this) : GlobalCacheConfig.promiseImplementation;\n        var cachePairs = storageStrategy_1.getAll(cacheKey, this);\n        if (!(cachePairs instanceof promiseImplementation)) {\n          cachePairs = promiseImplementation.resolve(cachePairs);\n        }\n        return cachePairs.then(function (cachePairs) {\n          return getResponse(oldMethod, cacheKey, cacheConfig, _this, cachePairs, parameters, pendingCachePairs_1, storageStrategy_1, promiseImplementation);\n        });\n      };\n    }\n    return propertyDescriptor;\n  };\n}\n;\n"],
  "mappings": "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",
  "names": ["IStorageStrategy", "d", "b", "InMemoryStorageStrategy", "_this", "IAsyncStorageStrategy", "__extends", "d", "b", "DOMStorageStrategy", "_this", "__extends", "d", "b", "LocalStorageStrategy", "_this", "__spreadArray", "_this", "__spreadArray", "__spreadArray", "_this", "cachePairs"]
}
