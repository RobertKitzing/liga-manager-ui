<div mat-dialog-title class="mat-sys-primary text-center" translate>
    TITLE.CHANGE_PASSWORD
</div>
<mat-dialog-content>
    <div [formGroup]="passwordForm" class="flex flex-col justify-center pt-4">
        <mat-form-field>
            <mat-label translate>OLD_PASSWORD</mat-label>
            <input #old matInput formControlName="old" type="password">
            <button
                matIconButton
                matSuffix
                (click)="
                    old.type === 'password'
                        ? (old.type = 'text')
                        : (old.type = 'password')
                "
            >   
                @if (old.type === 'password') {
                    <mat-icon>visibility</mat-icon>
                } @else {
                    <mat-icon>visibility_off</mat-icon>
                }
            </button>
        </mat-form-field>
        <mat-form-field>
            <mat-label translate>LABEL.NEW_PASSWORD</mat-label>
            <input #new matInput formControlName="new" type="password">
            <button
                matIconButton
                matSuffix
                (click)="
                    new.type === 'password'
                        ? (new.type = 'text')
                        : (new.type = 'password')
                "
            >   
                @if (new.type === 'password') {
                    <mat-icon>visibility</mat-icon>
                } @else {
                    <mat-icon>visibility_off</mat-icon>
                }
            </button>
            <mat-hint translate>HINT.NEW_PASSWORD</mat-hint>
        </mat-form-field>
    </div>
</mat-dialog-content>
<mat-dialog-actions align="center">
    <button matButton="outlined" (click)="dialogRef.close(true)">
        <span translate>BUTTON.CANCEL_MATCH</span>
    </button>
    <button matButton="tonal" (click)="changePassword()" [disabled]="!passwordForm.valid">
        <span translate>BUTTON.SAVE</span>
    </button>
</mat-dialog-actions>